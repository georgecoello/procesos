{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.every.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\n/* eslint-disable */\nimport { Document, Packer, Paragraph, TextRun, HeadingLevel, Table, TableRow, TableCell, WidthType, AlignmentType, ShadingType, Header, LevelFormat, BorderStyle, SimpleField } from 'docx';\n\n/**\n * Genera y descarga un .docx usando la librería 'docx'.\n * Con estilos mejorados similares a la imagen de referencia\n */\nexport async function generateWordDocument(documentData = {}, procedureData = []) {\n  try {\n    const formattedDate = formatDate(documentData.headerConfig?.fecha);\n\n    // Crear el documento\n    const doc = new Document({\n      coreProperties: {\n        title: documentData.headerConfig?.policyName || 'PROCEDIMIENTO',\n        subject: 'Documento de procedimientos',\n        creator: 'Sistema',\n        description: 'Procedimiento generado automáticamente',\n        language: 'es-HN',\n        keywords: ['procedimiento', 'políticas', 'Honduras']\n      },\n      settings: {\n        language: {\n          value: 'es-HN'\n        }\n      },\n      features: {\n        updateFields: true\n      },\n      styles: {\n        paragraphStyles: [{\n          id: 'Title',\n          name: 'Título Principal',\n          basedOn: 'Normal',\n          next: 'Normal',\n          quickFormat: true,\n          run: {\n            size: 28,\n            bold: true,\n            color: '1F4E79',\n            font: 'Times New Roman'\n          },\n          paragraph: {\n            alignment: AlignmentType.CENTER,\n            spacing: {\n              before: 400,\n              after: 300\n            },\n            border: {\n              bottom: {\n                color: \"1F4E79\",\n                space: 1,\n                style: BorderStyle.SINGLE,\n                size: 8\n              }\n            }\n          }\n        }, {\n          id: 'Heading1',\n          name: 'Título 1',\n          basedOn: 'Normal',\n          next: 'Normal',\n          quickFormat: true,\n          run: {\n            size: 24,\n            bold: true,\n            color: '2C3E50',\n            font: 'Times New Roman'\n          },\n          paragraph: {\n            spacing: {\n              before: 400,\n              after: 200\n            },\n            border: {\n              bottom: {\n                color: \"D4D4D4\",\n                space: 1,\n                style: BorderStyle.SINGLE,\n                size: 2\n              }\n            }\n          }\n        }, {\n          id: 'Heading2',\n          name: 'Título 2',\n          basedOn: 'Normal',\n          next: 'Normal',\n          quickFormat: true,\n          run: {\n            size: 22,\n            bold: true,\n            color: '2C3E50',\n            font: 'Times New Roman'\n          },\n          paragraph: {\n            spacing: {\n              before: 300,\n              after: 150\n            },\n            border: {\n              bottom: {\n                color: \"E0E0E0\",\n                space: 1,\n                style: BorderStyle.SINGLE,\n                size: 1\n              }\n            }\n          }\n        }, {\n          id: 'Heading3',\n          name: 'Título 3',\n          basedOn: 'Normal',\n          next: 'Normal',\n          quickFormat: true,\n          run: {\n            size: 20,\n            bold: true,\n            color: '34495E',\n            font: 'Times New Roman'\n          },\n          paragraph: {\n            spacing: {\n              before: 200,\n              after: 100\n            }\n          }\n        }, {\n          id: 'Normal',\n          name: 'Normal',\n          basedOn: 'Normal',\n          next: 'Normal',\n          run: {\n            size: 22,\n            font: 'Times New Roman'\n          },\n          paragraph: {\n            spacing: {\n              after: 120\n            }\n          }\n        }, {\n          id: 'Quote',\n          name: 'Cita',\n          basedOn: 'Normal',\n          next: 'Normal',\n          quickFormat: true,\n          run: {\n            size: 20,\n            font: 'Times New Roman',\n            italics: true,\n            color: '6C757D'\n          },\n          paragraph: {\n            spacing: {\n              before: 200,\n              after: 200\n            },\n            indent: {\n              left: 720\n            },\n            border: {\n              left: {\n                color: \"6C757D\",\n                space: 1,\n                style: BorderStyle.SINGLE,\n                size: 8\n              }\n            }\n          }\n        }, {\n          id: 'Code',\n          name: 'Código',\n          basedOn: 'Normal',\n          next: 'Normal',\n          quickFormat: true,\n          run: {\n            size: 18,\n            font: 'Consolas',\n            color: '2C3E50'\n          },\n          paragraph: {\n            spacing: {\n              before: 100,\n              after: 100\n            },\n            shading: {\n              fill: 'F8F9FA',\n              type: ShadingType.CLEAR\n            },\n            border: {\n              top: {\n                color: \"DEE2E6\",\n                size: 1,\n                style: BorderStyle.SINGLE\n              },\n              bottom: {\n                color: \"DEE2E6\",\n                size: 1,\n                style: BorderStyle.SINGLE\n              },\n              left: {\n                color: \"DEE2E6\",\n                size: 1,\n                style: BorderStyle.SINGLE\n              },\n              right: {\n                color: \"DEE2E6\",\n                size: 1,\n                style: BorderStyle.SINGLE\n              }\n            }\n          }\n        }]\n      },\n      numbering: {\n        config: [{\n          reference: 'bullet-numbering',\n          levels: [{\n            level: 0,\n            format: LevelFormat.BULLET,\n            text: '•',\n            alignment: AlignmentType.LEFT,\n            style: {\n              paragraph: {\n                indent: {\n                  left: 720,\n                  hanging: 360\n                }\n              }\n            }\n          }]\n        }, {\n          reference: 'decimal-numbering',\n          levels: [{\n            level: 0,\n            format: LevelFormat.DECIMAL,\n            text: '%1.',\n            alignment: AlignmentType.LEFT,\n            style: {\n              paragraph: {\n                indent: {\n                  left: 720,\n                  hanging: 360\n                }\n              }\n            }\n          }]\n        }, {\n          reference: 'letter-numbering',\n          levels: [{\n            level: 0,\n            format: LevelFormat.LOWER_LETTER,\n            text: '%1)',\n            alignment: AlignmentType.LEFT,\n            style: {\n              paragraph: {\n                indent: {\n                  left: 720,\n                  hanging: 360\n                }\n              }\n            }\n          }]\n        }]\n      },\n      sections: [{\n        properties: {\n          page: {\n            margin: {\n              top: 1440,\n              right: 1440,\n              bottom: 1440,\n              left: 1440\n            }\n          }\n        },\n        headers: {\n          default: new Header({\n            children: [createHeaderTable(documentData, formattedDate)]\n          })\n        },\n        children: [\n        // 1. Objetivo o Propósito\n        new Paragraph({\n          children: [new TextRun({\n            text: '1. OBJETIVO O PROPÓSITO',\n            bold: true,\n            size: 24,\n            font: 'Times New Roman',\n            color: '2C3E50'\n          })],\n          heading: HeadingLevel.HEADING_1,\n          spacing: {\n            before: 400,\n            after: 200\n          }\n        }), ...parseHtmlToParagraphs(documentData.objetivo || 'Contenido pendiente de completar.'),\n        // 2. Alcance\n        new Paragraph({\n          children: [new TextRun({\n            text: '2. ALCANCE',\n            bold: true,\n            size: 24,\n            font: 'Times New Roman',\n            color: '2C3E50'\n          })],\n          heading: HeadingLevel.HEADING_1,\n          spacing: {\n            before: 400,\n            after: 200\n          }\n        }), ...parseHtmlToParagraphs(documentData.alcance || 'Contenido pendiente de completar.'),\n        // 3. Responsabilidades\n        new Paragraph({\n          children: [new TextRun({\n            text: '3. RESPONSABILIDADES',\n            bold: true,\n            size: 24,\n            font: 'Times New Roman',\n            color: '2C3E50'\n          })],\n          heading: HeadingLevel.HEADING_1,\n          spacing: {\n            before: 400,\n            after: 200\n          }\n        }), ...parseHtmlToParagraphs(documentData.responsabilidades || 'Contenido pendiente de completar.'),\n        // 4. Normativa\n        new Paragraph({\n          children: [new TextRun({\n            text: '4. NORMATIVA',\n            bold: true,\n            size: 24,\n            font: 'Times New Roman',\n            color: '2C3E50'\n          })],\n          heading: HeadingLevel.HEADING_1,\n          spacing: {\n            before: 400,\n            after: 200\n          }\n        }), ...parseHtmlToParagraphs(documentData.normativa || 'Contenido pendiente de completar.'),\n        // 5. Procedimiento\n        new Paragraph({\n          children: [new TextRun({\n            text: '5. PROCEDIMIENTO',\n            bold: true,\n            size: 24,\n            font: 'Times New Roman',\n            color: '2C3E50'\n          })],\n          heading: HeadingLevel.HEADING_1,\n          spacing: {\n            before: 400,\n            after: 200\n          }\n        }), createProcedureTable(procedureData),\n        // 6. Anexos\n        new Paragraph({\n          children: [new TextRun({\n            text: '6. ANEXOS',\n            bold: true,\n            size: 24,\n            font: 'Times New Roman',\n            color: '2C3E50'\n          })],\n          heading: HeadingLevel.HEADING_1,\n          spacing: {\n            before: 400,\n            after: 200\n          }\n        }), ...parseHtmlToParagraphs(documentData.anexos || 'Contenido pendiente de completar.'),\n        // 7. Términos y Referencias\n        new Paragraph({\n          children: [new TextRun({\n            text: '7. TÉRMINOS Y REFERENCIAS',\n            bold: true,\n            size: 24,\n            font: 'Times New Roman',\n            color: '2C3E50'\n          })],\n          heading: HeadingLevel.HEADING_1,\n          spacing: {\n            before: 400,\n            after: 200\n          }\n        }), ...parseHtmlToParagraphs(documentData.terminos || 'Contenido pendiente de completar.')]\n      }]\n    });\n    const blob = await Packer.toBlob(doc);\n    const fileName = `${documentData.headerConfig?.policyName || 'Procedimiento'}.docx`;\n    if (window.navigator && window.navigator.msSaveOrOpenBlob) {\n      window.navigator.msSaveOrOpenBlob(blob, fileName);\n    } else {\n      const url = URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = fileName;\n      link.style.display = 'none';\n      document.body.appendChild(link);\n      link.click();\n      setTimeout(() => {\n        document.body.removeChild(link);\n        URL.revokeObjectURL(url);\n      }, 150);\n    }\n    return true;\n  } catch (error) {\n    console.error('Error generando documento Word:', error);\n    throw new Error(`Error al generar el documento: ${error.message}`);\n  }\n}\n\n// Función para crear la tabla del header con diseño mejorado y paginación dinámica\nfunction createHeaderTable(documentData, formattedDate) {\n  return new Table({\n    width: {\n      size: 100,\n      type: WidthType.PERCENTAGE\n    },\n    columnWidths: [2275, 2275, 2275, 2275],\n    borders: {\n      top: {\n        style: BorderStyle.SINGLE,\n        size: 4,\n        color: \"1F4E79\"\n      },\n      left: {\n        style: BorderStyle.SINGLE,\n        size: 4,\n        color: \"1F4E79\"\n      },\n      bottom: {\n        style: BorderStyle.SINGLE,\n        size: 4,\n        color: \"1F4E79\"\n      },\n      right: {\n        style: BorderStyle.SINGLE,\n        size: 4,\n        color: \"1F4E79\"\n      },\n      insideHorizontal: {\n        style: BorderStyle.SINGLE,\n        size: 4,\n        color: \"1F4E79\"\n      },\n      insideVertical: {\n        style: BorderStyle.SINGLE,\n        size: 4,\n        color: \"1F4E79\"\n      }\n    },\n    rows: [\n    // Primera fila: Logo, Manual, Páginas\n    new TableRow({\n      children: [\n      // Logo\n      new TableCell({\n        shading: {\n          fill: '1F4E79',\n          type: ShadingType.CLEAR\n        },\n        children: [new Paragraph({\n          alignment: AlignmentType.CENTER,\n          children: [new TextRun({\n            text: \"LOGO\",\n            bold: true,\n            size: 20,\n            font: 'Times New Roman',\n            color: 'FFFFFF'\n          })]\n        })]\n      }),\n      // Manual de Políticas y Procedimientos\n      new TableCell({\n        shading: {\n          fill: '1F4E79',\n          type: ShadingType.CLEAR\n        },\n        children: [new Paragraph({\n          alignment: AlignmentType.CENTER,\n          children: [new TextRun({\n            text: documentData.headerConfig?.manualName || 'MANUAL DE POLÍTICAS Y PROCEDIMIENTOS',\n            bold: true,\n            size: 20,\n            font: 'Times New Roman',\n            color: 'FFFFFF'\n          })]\n        })]\n      }),\n      // Páginas (ocupa 2 columnas) - USANDO CAMPOS DINÁMICOS\n      new TableCell({\n        columnSpan: 2,\n        shading: {\n          fill: '1F4E79',\n          type: ShadingType.CLEAR\n        },\n        children: [new Paragraph({\n          alignment: AlignmentType.RIGHT,\n          children: [new TextRun({\n            text: \"PÁGINA \",\n            bold: true,\n            size: 20,\n            font: 'Times New Roman',\n            color: 'FFFFFF'\n          }),\n          // Campo para número de página actual\n          new SimpleField(\"PAGE\", \"\"), new TextRun({\n            text: \" DE \",\n            bold: true,\n            size: 20,\n            font: 'Times New Roman',\n            color: 'FFFFFF'\n          }),\n          // Campo para número total de páginas\n          new SimpleField(\"NUMPAGES\", \"\")]\n        })]\n      })]\n    }),\n    // Segunda fila: Nombre del Procedimiento y Código\n    new TableRow({\n      children: [\n      // POLÍTICA O PROCEDIMIENTO DE (ocupa 2 columnas)\n      new TableCell({\n        columnSpan: 2,\n        children: [new Paragraph({\n          children: [new TextRun({\n            text: documentData.headerConfig?.policyName || 'PROCEDIMIENTO',\n            bold: true,\n            size: 22,\n            font: 'Times New Roman',\n            color: '1F4E79',\n            allCaps: true\n          })]\n        })]\n      }),\n      // CÓDIGO (ocupa 2 columnas)\n      new TableCell({\n        columnSpan: 2,\n        children: [new Paragraph({\n          alignment: AlignmentType.RIGHT,\n          children: [new TextRun({\n            text: `CÓDIGO: ${documentData.headerConfig?.codigo || 'XX-P-XXX-#'}`,\n            bold: true,\n            size: 20,\n            font: 'Times New Roman',\n            color: '1F4E79'\n          })]\n        })]\n      })]\n    }),\n    // Tercera fila: Área, Unidad, Revisión, Fecha\n    new TableRow({\n      children: [\n      // Área\n      new TableCell({\n        children: [new Paragraph({\n          children: [new TextRun({\n            text: `Área: ${documentData.headerConfig?.area || 'ÁREA RESPONSABLE'}`,\n            size: 18,\n            font: 'Times New Roman',\n            bold: true,\n            language: 'es-HN'\n          })]\n        })]\n      }),\n      // Unidad\n      new TableCell({\n        children: [new Paragraph({\n          children: [new TextRun({\n            text: `Unidad: ${documentData.headerConfig?.unidad || 'UNIDAD ESPECÍFICA'}`,\n            size: 18,\n            font: 'Times New Roman',\n            bold: true,\n            language: 'es-HN'\n          })]\n        })]\n      }),\n      // Revisión\n      new TableCell({\n        children: [new Paragraph({\n          alignment: AlignmentType.CENTER,\n          children: [new TextRun({\n            text: `Revisión: ${documentData.headerConfig?.revision || '(1)'}`,\n            size: 18,\n            font: 'Times New Roman',\n            bold: true\n          })]\n        })]\n      }),\n      // Fecha\n      new TableCell({\n        children: [new Paragraph({\n          alignment: AlignmentType.RIGHT,\n          children: [new TextRun({\n            text: `Fecha: ${formattedDate}`,\n            bold: true,\n            size: 18,\n            font: 'Times New Roman'\n          })]\n        })]\n      })]\n    })]\n  });\n}\n\n/* ---------------- Helpers ---------------- */\n\nfunction formatDate(dateInput) {\n  if (!dateInput) {\n    const today = new Date();\n    const year = today.getFullYear();\n    const month = String(today.getMonth() + 1).padStart(2, '0');\n    const day = String(today.getDate()).padStart(2, '0');\n    return `${day}-${month}-${year}`;\n  }\n  const d = new Date(dateInput);\n  const day = String(d.getDate()).padStart(2, '0');\n  const month = String(d.getMonth() + 1).padStart(2, '0');\n  const year = d.getFullYear();\n  return `${day}-${month}-${year}`;\n}\nfunction safeText(value) {\n  if (value == null) return '';\n  return String(value).replace(/\\s+/g, ' ').trim();\n}\n\n/**\n * Parsea HTML simple a Paragraphs de docx\n * Ahora soporta títulos, citas, código y todos los estilos\n */\nfunction parseHtmlToParagraphs(html = '') {\n  const paragraphs = [];\n  if (!html) return paragraphs;\n  try {\n    // Si no hay HTML tags, procesar como texto plano\n    if (!html.includes('<') && !html.includes('>')) {\n      const lines = String(html).split(/\\n+/).map(s => safeText(s)).filter(Boolean);\n      lines.forEach(line => {\n        // Detectar si es un título por el formato (solo si no hay tags HTML)\n        if (line.startsWith('# ')) {\n          paragraphs.push(new Paragraph({\n            children: [new TextRun({\n              text: line.substring(2),\n              size: 28,\n              font: 'Times New Roman',\n              bold: true,\n              color: '1F4E79'\n            })],\n            heading: HeadingLevel.HEADING_1,\n            spacing: {\n              before: 400,\n              after: 200\n            },\n            border: {\n              bottom: {\n                color: \"1F4E79\",\n                space: 1,\n                style: BorderStyle.SINGLE,\n                size: 8\n              }\n            }\n          }));\n        } else if (line.startsWith('## ')) {\n          paragraphs.push(new Paragraph({\n            children: [new TextRun({\n              text: line.substring(3),\n              size: 24,\n              font: 'Times New Roman',\n              bold: true,\n              color: '2C3E50'\n            })],\n            heading: HeadingLevel.HEADING_2,\n            spacing: {\n              before: 300,\n              after: 150\n            },\n            border: {\n              bottom: {\n                color: \"D4D4D4\",\n                space: 1,\n                style: BorderStyle.SINGLE,\n                size: 2\n              }\n            }\n          }));\n        } else if (line.startsWith('### ')) {\n          paragraphs.push(new Paragraph({\n            children: [new TextRun({\n              text: line.substring(4),\n              size: 20,\n              font: 'Times New Roman',\n              bold: true,\n              color: '34495E'\n            })],\n            heading: HeadingLevel.HEADING_3,\n            spacing: {\n              before: 200,\n              after: 100\n            }\n          }));\n        } else if (line.startsWith('> ')) {\n          // Detectar citas\n          paragraphs.push(new Paragraph({\n            children: [new TextRun({\n              text: line.substring(2),\n              size: 20,\n              font: 'Times New Roman',\n              italics: true,\n              color: '6C757D'\n            })],\n            style: 'Quote',\n            spacing: {\n              before: 200,\n              after: 200\n            },\n            indent: {\n              left: 720\n            },\n            border: {\n              left: {\n                color: \"6C757D\",\n                space: 1,\n                style: BorderStyle.SINGLE,\n                size: 8\n              }\n            }\n          }));\n        } else {\n          paragraphs.push(new Paragraph({\n            children: [new TextRun({\n              text: line,\n              size: 22,\n              font: 'Times New Roman'\n            })],\n            spacing: {\n              after: 120\n            }\n          }));\n        }\n      });\n      return paragraphs;\n    }\n    const parser = new DOMParser();\n    const doc = parser.parseFromString(`<div>${html}</div>`, 'text/html');\n    const root = doc.body.firstElementChild || doc.body;\n    const processNode = (node, depth = 0) => {\n      if (node.nodeType === Node.TEXT_NODE) {\n        const text = safeText(node.textContent);\n        if (text && text.trim() !== '') {\n          paragraphs.push(new Paragraph({\n            children: [new TextRun({\n              text,\n              size: 22,\n              font: 'Times New Roman'\n            })],\n            spacing: {\n              after: 120\n            }\n          }));\n        }\n        return;\n      }\n      if (node.nodeType !== Node.ELEMENT_NODE) return;\n      const tag = node.tagName.toLowerCase();\n      const classList = node.classList;\n\n      // Detectar alineación desde clases\n      let textAlign = null;\n      if (classList.contains('text-align-left')) textAlign = AlignmentType.LEFT;else if (classList.contains('text-align-center')) textAlign = AlignmentType.CENTER;else if (classList.contains('text-align-right')) textAlign = AlignmentType.RIGHT;else if (classList.contains('text-align-justify')) textAlign = AlignmentType.JUSTIFIED;\n\n      // Manejar títulos\n      if (tag === 'h1' || tag === 'h2' || tag === 'h3') {\n        const text = safeText(node.textContent);\n        if (!text) return;\n        const level = parseInt(tag.substring(1));\n        const children = processInlineContent(node);\n        if (level === 1) {\n          const paragraph = new Paragraph({\n            children: children.length > 0 ? children : [new TextRun({\n              text: text,\n              size: 28,\n              font: 'Times New Roman',\n              bold: true,\n              color: '1F4E79'\n            })],\n            heading: HeadingLevel.HEADING_1,\n            spacing: {\n              before: 400,\n              after: 200\n            },\n            border: {\n              bottom: {\n                color: \"1F4E79\",\n                space: 1,\n                style: BorderStyle.SINGLE,\n                size: 8\n              }\n            }\n          });\n          if (textAlign) paragraph.alignment = textAlign;\n          paragraphs.push(paragraph);\n        } else if (level === 2) {\n          const paragraph = new Paragraph({\n            children: children.length > 0 ? children : [new TextRun({\n              text: text,\n              size: 24,\n              font: 'Times New Roman',\n              bold: true,\n              color: '2C3E50'\n            })],\n            heading: HeadingLevel.HEADING_2,\n            spacing: {\n              before: 300,\n              after: 150\n            },\n            border: {\n              bottom: {\n                color: \"D4D4D4\",\n                space: 1,\n                style: BorderStyle.SINGLE,\n                size: 2\n              }\n            }\n          });\n          if (textAlign) paragraph.alignment = textAlign;\n          paragraphs.push(paragraph);\n        } else if (level === 3) {\n          const paragraph = new Paragraph({\n            children: children.length > 0 ? children : [new TextRun({\n              text: text,\n              size: 20,\n              font: 'Times New Roman',\n              bold: true,\n              color: '34495E'\n            })],\n            heading: HeadingLevel.HEADING_3,\n            spacing: {\n              before: 200,\n              after: 100\n            }\n          });\n          if (textAlign) paragraph.alignment = textAlign;\n          paragraphs.push(paragraph);\n        }\n      }\n      // Manejar citas (blockquote)\n      else if (tag === 'blockquote') {\n        const text = safeText(node.textContent);\n        if (text) {\n          const children = processInlineContent(node);\n          const paragraph = new Paragraph({\n            children: children.length > 0 ? children : [new TextRun({\n              text: text,\n              size: 20,\n              font: 'Times New Roman',\n              italics: true,\n              color: '6C757D'\n            })],\n            style: 'Quote',\n            spacing: {\n              before: 200,\n              after: 200\n            },\n            indent: {\n              left: 720\n            },\n            border: {\n              left: {\n                color: \"6C757D\",\n                space: 1,\n                style: BorderStyle.SINGLE,\n                size: 8\n              }\n            }\n          });\n          if (textAlign) paragraph.alignment = textAlign;\n          paragraphs.push(paragraph);\n        }\n      }\n      // Manejar bloques de código\n      else if (tag === 'pre' || tag === 'div' && classList.contains('code-block')) {\n        const text = safeText(node.textContent);\n        if (text) {\n          const paragraph = new Paragraph({\n            children: [new TextRun({\n              text: text,\n              size: 18,\n              font: 'Consolas',\n              color: '2C3E50'\n            })],\n            style: 'Code',\n            spacing: {\n              before: 100,\n              after: 100\n            },\n            shading: {\n              fill: 'F8F9FA',\n              type: ShadingType.CLEAR\n            },\n            border: {\n              top: {\n                color: \"DEE2E6\",\n                size: 1,\n                style: BorderStyle.SINGLE\n              },\n              bottom: {\n                color: \"DEE2E6\",\n                size: 1,\n                style: BorderStyle.SINGLE\n              },\n              left: {\n                color: \"DEE2E6\",\n                size: 1,\n                style: BorderStyle.SINGLE\n              },\n              right: {\n                color: \"DEE2E6\",\n                size: 1,\n                style: BorderStyle.SINGLE\n              }\n            }\n          });\n          if (textAlign) paragraph.alignment = textAlign;\n          paragraphs.push(paragraph);\n        }\n      }\n      // Manejar párrafos\n      else if (tag === 'p') {\n        const text = safeText(node.textContent);\n        if (text) {\n          const children = processInlineContent(node);\n          const paragraph = new Paragraph({\n            children: children.length > 0 ? children : [new TextRun({\n              text,\n              size: 22,\n              font: 'Times New Roman'\n            })],\n            spacing: {\n              after: 120\n            }\n          });\n          if (textAlign) paragraph.alignment = textAlign;\n          paragraphs.push(paragraph);\n        }\n      }\n      // Manejar listas\n      else if (tag === 'ul' || tag === 'ol') {\n        const isOrdered = tag === 'ol';\n        const outer = node.outerHTML || '';\n        const isLetter = /data-type\\s*=\\s*[\"']letter[\"']/i.test(outer);\n        const numberingRef = isLetter ? 'letter-numbering' : isOrdered ? 'decimal-numbering' : 'bullet-numbering';\n        node.querySelectorAll('li').forEach(li => {\n          const liText = safeText(li.textContent);\n          if (!liText) return;\n          const children = processInlineContent(li);\n          const paragraph = new Paragraph({\n            children: children.length > 0 ? children : [new TextRun({\n              text: liText,\n              size: 22,\n              font: 'Times New Roman'\n            })],\n            numbering: {\n              reference: numberingRef,\n              level: 0\n            },\n            spacing: {\n              after: 80\n            }\n          });\n          if (textAlign) paragraph.alignment = textAlign;\n          paragraphs.push(paragraph);\n        });\n      }\n      // Manejar saltos de línea\n      else if (tag === 'br') {\n        paragraphs.push(new Paragraph({\n          text: ''\n        }));\n      }\n      // Manejar divs y otros contenedores (procesar recursivamente)\n      else if (tag === 'div' || tag === 'span' || tag === 'section' || tag === 'article') {\n        Array.from(node.childNodes).forEach(child => processNode(child, depth + 1));\n      }\n      // Para otros elementos, extraer el texto\n      else {\n        const text = safeText(node.textContent);\n        if (text) {\n          const paragraph = new Paragraph({\n            children: [new TextRun({\n              text,\n              size: 22,\n              font: 'Times New Roman'\n            })],\n            spacing: {\n              after: 120\n            }\n          });\n          if (textAlign) paragraph.alignment = textAlign;\n          paragraphs.push(paragraph);\n        }\n      }\n    };\n\n    // Función para procesar contenido inline con estilos\n    const processInlineContent = element => {\n      const textRuns = [];\n      const processElement = elem => {\n        if (elem.nodeType === Node.TEXT_NODE) {\n          const text = safeText(elem.textContent);\n          if (text) {\n            textRuns.push(new TextRun({\n              text,\n              size: 22,\n              font: 'Times New Roman'\n            }));\n          }\n        } else if (elem.nodeType === Node.ELEMENT_NODE) {\n          const elemTag = elem.tagName.toLowerCase();\n          const innerText = safeText(elem.textContent);\n          if (elemTag === 'strong' || elemTag === 'b') {\n            textRuns.push(new TextRun({\n              text: innerText,\n              size: 22,\n              font: 'Times New Roman',\n              bold: true\n            }));\n          } else if (elemTag === 'em' || elemTag === 'i') {\n            textRuns.push(new TextRun({\n              text: innerText,\n              size: 22,\n              font: 'Times New Roman',\n              italics: true\n            }));\n          } else if (elemTag === 'u') {\n            textRuns.push(new TextRun({\n              text: innerText,\n              size: 22,\n              font: 'Times New Roman',\n              underline: {}\n            }));\n          } else if (elemTag === 's' || elemTag === 'strike') {\n            textRuns.push(new TextRun({\n              text: innerText,\n              size: 22,\n              font: 'Times New Roman',\n              strike: true\n            }));\n          } else if (elemTag === 'code') {\n            textRuns.push(new TextRun({\n              text: innerText,\n              size: 20,\n              font: 'Consolas',\n              color: 'E74C3C'\n            }));\n          } else if (elemTag === 'br') {\n            // Los saltos de línea se manejan automáticamente\n          } else {\n            // Para otros elementos, procesar recursivamente\n            Array.from(elem.childNodes).forEach(processElement);\n          }\n        }\n      };\n      Array.from(element.childNodes).forEach(processElement);\n      return textRuns;\n    };\n    Array.from(root.childNodes).forEach(node => processNode(node));\n  } catch (e) {\n    console.error('Error parsing HTML:', e);\n    // Fallback: limpiar HTML y procesar como texto plano\n    const cleaned = String(html).replace(/<br\\s*\\/?>/gi, '\\n').replace(/<[^>]+>/g, '').replace(/&nbsp;/g, ' ').replace(/&lt;/g, '<').replace(/&gt;/g, '>').replace(/&amp;/g, '&').trim();\n    if (cleaned) {\n      cleaned.split(/\\n+/).map(s => safeText(s)).filter(Boolean).forEach(t => {\n        paragraphs.push(new Paragraph({\n          children: [new TextRun({\n            text: t,\n            size: 22,\n            font: 'Times New Roman'\n          })],\n          spacing: {\n            after: 120\n          }\n        }));\n      });\n    }\n  }\n  if (paragraphs.length === 0) paragraphs.push(new Paragraph({\n    text: ''\n  }));\n  return paragraphs;\n}\n\n/**\n * Crea una tabla para el procedimiento con diseño mejorado\n */\nfunction createProcedureTable(data = []) {\n  if (!data || data.length === 0) {\n    return new Paragraph({\n      children: [new TextRun({\n        text: 'No se ha definido el procedimiento.',\n        size: 22,\n        font: 'Times New Roman'\n      })],\n      spacing: {\n        after: 120\n      }\n    });\n  }\n  const headerRow = new TableRow({\n    children: [new TableCell({\n      width: {\n        size: 1500,\n        type: WidthType.DXA\n      },\n      shading: {\n        fill: '1F4E79',\n        type: ShadingType.CLEAR\n      },\n      margins: {\n        top: 100,\n        bottom: 100,\n        left: 100,\n        right: 100\n      },\n      children: [new Paragraph({\n        children: [new TextRun({\n          text: '(#)',\n          bold: true,\n          color: 'FFFFFF',\n          size: 20,\n          font: 'Times New Roman'\n        })],\n        alignment: AlignmentType.CENTER,\n        spacing: {\n          before: 100,\n          after: 100\n        }\n      })]\n    }), new TableCell({\n      width: {\n        size: 2500,\n        type: WidthType.DXA\n      },\n      shading: {\n        fill: '1F4E79',\n        type: ShadingType.CLEAR\n      },\n      margins: {\n        top: 100,\n        bottom: 100,\n        left: 100,\n        right: 100\n      },\n      children: [new Paragraph({\n        children: [new TextRun({\n          text: '(QUIÉN)',\n          bold: true,\n          color: 'FFFFFF',\n          size: 20,\n          font: 'Times New Roman'\n        })],\n        alignment: AlignmentType.CENTER,\n        spacing: {\n          before: 100,\n          after: 100\n        }\n      })]\n    }), new TableCell({\n      width: {\n        size: 6500,\n        type: WidthType.DXA\n      },\n      shading: {\n        fill: '1F4E79',\n        type: ShadingType.CLEAR\n      },\n      margins: {\n        top: 100,\n        bottom: 100,\n        left: 100,\n        right: 100\n      },\n      children: [new Paragraph({\n        children: [new TextRun({\n          text: '(ACTIVIDAD)',\n          bold: true,\n          color: 'FFFFFF',\n          size: 20,\n          font: 'Times New Roman'\n        })],\n        alignment: AlignmentType.CENTER,\n        spacing: {\n          before: 100,\n          after: 100\n        }\n      })]\n    })]\n  });\n  const rows = [headerRow];\n  data.forEach((row, index) => {\n    let number = safeText(row.number || '');\n    if (number) {\n      if (!number.includes('.') && !isNaN(number)) number = `5.${number}`;else if (!number.startsWith('5.')) {\n        const segs = number.split('.');\n        if (segs.every(s => /^\\d+$/.test(s.trim()))) number = `5.${number}`;\n      }\n    }\n    const who = safeText(row.who || '');\n    const activity = safeText(row.activity || '');\n    const level = safeText(row.level || '');\n    const bg = getBackgroundColor(level);\n\n    // Procesar texto de actividad para mantener estilos básicos\n    const activityChildren = [new TextRun({\n      text: activity,\n      size: 20,\n      font: 'Times New Roman'\n    })];\n    rows.push(new TableRow({\n      children: [new TableCell({\n        margins: {\n          top: 100,\n          bottom: 100,\n          left: 100,\n          right: 100\n        },\n        children: [new Paragraph({\n          children: [new TextRun({\n            text: number,\n            size: 20,\n            font: 'Times New Roman',\n            bold: true\n          })],\n          alignment: AlignmentType.CENTER,\n          spacing: {\n            before: 100,\n            after: 100\n          }\n        })],\n        shading: bg ? {\n          fill: bg,\n          type: ShadingType.CLEAR\n        } : undefined\n      }), new TableCell({\n        margins: {\n          top: 100,\n          bottom: 100,\n          left: 100,\n          right: 100\n        },\n        children: [new Paragraph({\n          children: [new TextRun({\n            text: who,\n            size: 20,\n            font: 'Times New Roman',\n            bold: true\n          })],\n          alignment: AlignmentType.CENTER,\n          spacing: {\n            before: 100,\n            after: 100\n          }\n        })],\n        shading: bg ? {\n          fill: bg,\n          type: ShadingType.CLEAR\n        } : undefined\n      }), new TableCell({\n        margins: {\n          top: 100,\n          bottom: 100,\n          left: 100,\n          right: 100\n        },\n        children: [new Paragraph({\n          children: activityChildren,\n          spacing: {\n            before: 100,\n            after: 100\n          }\n        })],\n        shading: bg ? {\n          fill: bg,\n          type: ShadingType.CLEar\n        } : undefined\n      })]\n    }));\n  });\n  return new Table({\n    rows,\n    width: {\n      size: 100,\n      type: WidthType.PERCENTAGE\n    },\n    borders: {\n      top: {\n        style: BorderStyle.SINGLE,\n        size: 2,\n        color: '1F4E79'\n      },\n      bottom: {\n        style: BorderStyle.SINGLE,\n        size: 2,\n        color: '1F4E79'\n      },\n      left: {\n        style: BorderStyle.SINGLE,\n        size: 2,\n        color: '1F4E79'\n      },\n      right: {\n        style: BorderStyle.SINGLE,\n        size: 2,\n        color: '1F4E79'\n      },\n      insideHorizontal: {\n        style: BorderStyle.SINGLE,\n        size: 1,\n        color: 'CCCCCC'\n      },\n      insideVertical: {\n        style: BorderStyle.SINGLE,\n        size: 1,\n        color: 'CCCCCC'\n      }\n    }\n  });\n}\nfunction getBackgroundColor(level) {\n  const colors = {\n    sub: 'E8F5E8',\n    section: 'E3F2FD',\n    question: 'FFF3CD',\n    alternative: 'D1ECF1',\n    end: 'D4EDDA'\n  };\n  return colors[level] || '';\n}","map":{"version":3,"names":["Document","Packer","Paragraph","TextRun","HeadingLevel","Table","TableRow","TableCell","WidthType","AlignmentType","ShadingType","Header","LevelFormat","BorderStyle","SimpleField","generateWordDocument","documentData","procedureData","formattedDate","formatDate","headerConfig","fecha","doc","coreProperties","title","policyName","subject","creator","description","language","keywords","settings","value","features","updateFields","styles","paragraphStyles","id","name","basedOn","next","quickFormat","run","size","bold","color","font","paragraph","alignment","CENTER","spacing","before","after","border","bottom","space","style","SINGLE","italics","indent","left","shading","fill","type","CLEAR","top","right","numbering","config","reference","levels","level","format","BULLET","text","LEFT","hanging","DECIMAL","LOWER_LETTER","sections","properties","page","margin","headers","default","children","createHeaderTable","heading","HEADING_1","parseHtmlToParagraphs","objetivo","alcance","responsabilidades","normativa","createProcedureTable","anexos","terminos","blob","toBlob","fileName","window","navigator","msSaveOrOpenBlob","url","URL","createObjectURL","link","document","createElement","href","download","display","body","appendChild","click","setTimeout","removeChild","revokeObjectURL","error","console","Error","message","width","PERCENTAGE","columnWidths","borders","insideHorizontal","insideVertical","rows","manualName","columnSpan","RIGHT","allCaps","codigo","area","unidad","revision","dateInput","today","Date","year","getFullYear","month","String","getMonth","padStart","day","getDate","d","safeText","replace","trim","html","paragraphs","includes","lines","split","map","s","filter","Boolean","forEach","line","startsWith","push","substring","HEADING_2","HEADING_3","parser","DOMParser","parseFromString","root","firstElementChild","processNode","node","depth","nodeType","Node","TEXT_NODE","textContent","ELEMENT_NODE","tag","tagName","toLowerCase","classList","textAlign","contains","JUSTIFIED","parseInt","processInlineContent","length","isOrdered","outer","outerHTML","isLetter","test","numberingRef","querySelectorAll","li","liText","Array","from","childNodes","child","element","textRuns","processElement","elem","elemTag","innerText","underline","strike","e","cleaned","t","data","headerRow","DXA","margins","row","index","number","isNaN","segs","every","who","activity","bg","getBackgroundColor","activityChildren","undefined","CLEar","colors","sub","section","question","alternative","end"],"sources":["/home/jorge/Escritorio/Jorge-PC/procesos/procesos/src/utils/docGenerator.js"],"sourcesContent":["/* eslint-disable */\nimport { Document, Packer, Paragraph, TextRun, HeadingLevel, Table, TableRow, TableCell, WidthType, AlignmentType, ShadingType, Header, LevelFormat, BorderStyle, SimpleField } from 'docx';\n\n/**\n * Genera y descarga un .docx usando la librería 'docx'.\n * Con estilos mejorados similares a la imagen de referencia\n */\nexport async function generateWordDocument(documentData = {}, procedureData = []) {\n  try {\n    const formattedDate = formatDate(documentData.headerConfig?.fecha);\n\n    // Crear el documento\n    const doc = new Document({\n      coreProperties: {\n        title: documentData.headerConfig?.policyName || 'PROCEDIMIENTO',\n        subject: 'Documento de procedimientos',\n        creator: 'Sistema',\n        description: 'Procedimiento generado automáticamente',\n        language: 'es-HN',\n        keywords: ['procedimiento', 'políticas', 'Honduras'],\n      },\n      settings: {\n        language: {\n          value: 'es-HN',\n        },\n      },\n      features: {\n        updateFields: true,\n      },\n      styles: {\n        paragraphStyles: [\n          {\n            id: 'Title',\n            name: 'Título Principal',\n            basedOn: 'Normal',\n            next: 'Normal',\n            quickFormat: true,\n            run: {\n              size: 28,\n              bold: true,\n              color: '1F4E79',\n              font: 'Times New Roman'\n            },\n            paragraph: {\n              alignment: AlignmentType.CENTER,\n              spacing: { before: 400, after: 300 },\n              border: {\n                bottom: {\n                  color: \"1F4E79\",\n                  space: 1,\n                  style: BorderStyle.SINGLE,\n                  size: 8\n                }\n              }\n            }\n          },\n          {\n            id: 'Heading1',\n            name: 'Título 1',\n            basedOn: 'Normal',\n            next: 'Normal',\n            quickFormat: true,\n            run: {\n              size: 24,\n              bold: true,\n              color: '2C3E50',\n              font: 'Times New Roman'\n            },\n            paragraph: {\n              spacing: { before: 400, after: 200 },\n              border: {\n                bottom: {\n                  color: \"D4D4D4\",\n                  space: 1,\n                  style: BorderStyle.SINGLE,\n                  size: 2\n                }\n              }\n            }\n          },\n          {\n            id: 'Heading2',\n            name: 'Título 2',\n            basedOn: 'Normal',\n            next: 'Normal',\n            quickFormat: true,\n            run: {\n              size: 22,\n              bold: true,\n              color: '2C3E50',\n              font: 'Times New Roman'\n            },\n            paragraph: {\n              spacing: { before: 300, after: 150 },\n              border: {\n                bottom: {\n                  color: \"E0E0E0\",\n                  space: 1,\n                  style: BorderStyle.SINGLE,\n                  size: 1\n                }\n              }\n            }\n          },\n          {\n            id: 'Heading3',\n            name: 'Título 3',\n            basedOn: 'Normal',\n            next: 'Normal',\n            quickFormat: true,\n            run: {\n              size: 20,\n              bold: true,\n              color: '34495E',\n              font: 'Times New Roman'\n            },\n            paragraph: {\n              spacing: { before: 200, after: 100 }\n            }\n          },\n          {\n            id: 'Normal',\n            name: 'Normal',\n            basedOn: 'Normal',\n            next: 'Normal',\n            run: {\n              size: 22,\n              font: 'Times New Roman'\n            },\n            paragraph: {\n              spacing: { after: 120 }\n            }\n          },\n          {\n            id: 'Quote',\n            name: 'Cita',\n            basedOn: 'Normal',\n            next: 'Normal',\n            quickFormat: true,\n            run: {\n              size: 20,\n              font: 'Times New Roman',\n              italics: true,\n              color: '6C757D'\n            },\n            paragraph: {\n              spacing: { before: 200, after: 200 },\n              indent: { left: 720 },\n              border: {\n                left: {\n                  color: \"6C757D\",\n                  space: 1,\n                  style: BorderStyle.SINGLE,\n                  size: 8\n                }\n              }\n            }\n          },\n          {\n            id: 'Code',\n            name: 'Código',\n            basedOn: 'Normal',\n            next: 'Normal',\n            quickFormat: true,\n            run: {\n              size: 18,\n              font: 'Consolas',\n              color: '2C3E50'\n            },\n            paragraph: {\n              spacing: { before: 100, after: 100 },\n              shading: {\n                fill: 'F8F9FA',\n                type: ShadingType.CLEAR\n              },\n              border: {\n                top: { color: \"DEE2E6\", size: 1, style: BorderStyle.SINGLE },\n                bottom: { color: \"DEE2E6\", size: 1, style: BorderStyle.SINGLE },\n                left: { color: \"DEE2E6\", size: 1, style: BorderStyle.SINGLE },\n                right: { color: \"DEE2E6\", size: 1, style: BorderStyle.SINGLE }\n              }\n            }\n          }\n        ]\n      },\n      numbering: {\n        config: [\n          {\n            reference: 'bullet-numbering',\n            levels: [\n              { \n                level: 0, \n                format: LevelFormat.BULLET, \n                text: '•', \n                alignment: AlignmentType.LEFT,\n                style: {\n                  paragraph: {\n                    indent: { left: 720, hanging: 360 }\n                  }\n                }\n              },\n            ],\n          },\n          {\n            reference: 'decimal-numbering',\n            levels: [\n              { \n                level: 0, \n                format: LevelFormat.DECIMAL, \n                text: '%1.', \n                alignment: AlignmentType.LEFT,\n                style: {\n                  paragraph: {\n                    indent: { left: 720, hanging: 360 }\n                  }\n                }\n              },\n            ],\n          },\n          {\n            reference: 'letter-numbering',\n            levels: [\n              { \n                level: 0, \n                format: LevelFormat.LOWER_LETTER, \n                text: '%1)', \n                alignment: AlignmentType.LEFT,\n                style: {\n                  paragraph: {\n                    indent: { left: 720, hanging: 360 }\n                  }\n                }\n              },\n            ],\n          },\n        ],\n      },\n      sections: [{\n        properties: {\n          page: {\n            margin: {\n              top: 1440,\n              right: 1440,\n              bottom: 1440,\n              left: 1440,\n            },\n          },\n        },\n        headers: {\n          default: new Header({\n            children: [createHeaderTable(documentData, formattedDate)]\n          }),\n        },\n        children: [\n          // 1. Objetivo o Propósito\n          new Paragraph({\n            children: [\n              new TextRun({\n                text: '1. OBJETIVO O PROPÓSITO',\n                bold: true,\n                size: 24,\n                font: 'Times New Roman',\n                color: '2C3E50'\n              })\n            ],\n            heading: HeadingLevel.HEADING_1,\n            spacing: { before: 400, after: 200 }\n          }),\n          ...parseHtmlToParagraphs(documentData.objetivo || 'Contenido pendiente de completar.'),\n\n          // 2. Alcance\n          new Paragraph({\n            children: [\n              new TextRun({\n                text: '2. ALCANCE',\n                bold: true,\n                size: 24,\n                font: 'Times New Roman',\n                color: '2C3E50'\n              })\n            ],\n            heading: HeadingLevel.HEADING_1,\n            spacing: { before: 400, after: 200 }\n          }),\n          ...parseHtmlToParagraphs(documentData.alcance || 'Contenido pendiente de completar.'),\n\n          // 3. Responsabilidades\n          new Paragraph({\n            children: [\n              new TextRun({\n                text: '3. RESPONSABILIDADES',\n                bold: true,\n                size: 24,\n                font: 'Times New Roman',\n                color: '2C3E50'\n              })\n            ],\n            heading: HeadingLevel.HEADING_1,\n            spacing: { before: 400, after: 200 }\n          }),\n          ...parseHtmlToParagraphs(documentData.responsabilidades || 'Contenido pendiente de completar.'),\n\n          // 4. Normativa\n          new Paragraph({\n            children: [\n              new TextRun({\n                text: '4. NORMATIVA',\n                bold: true,\n                size: 24,\n                font: 'Times New Roman',\n                color: '2C3E50'\n              })\n            ],\n            heading: HeadingLevel.HEADING_1,\n            spacing: { before: 400, after: 200 }\n          }),\n          ...parseHtmlToParagraphs(documentData.normativa || 'Contenido pendiente de completar.'),\n\n          // 5. Procedimiento\n          new Paragraph({\n            children: [\n              new TextRun({\n                text: '5. PROCEDIMIENTO',\n                bold: true,\n                size: 24,\n                font: 'Times New Roman',\n                color: '2C3E50'\n              })\n            ],\n            heading: HeadingLevel.HEADING_1,\n            spacing: { before: 400, after: 200 }\n          }),\n          createProcedureTable(procedureData),\n\n          // 6. Anexos\n          new Paragraph({\n            children: [\n              new TextRun({\n                text: '6. ANEXOS',\n                bold: true,\n                size: 24,\n                font: 'Times New Roman',\n                color: '2C3E50'\n              })\n            ],\n            heading: HeadingLevel.HEADING_1,\n            spacing: { before: 400, after: 200 }\n          }),\n          ...parseHtmlToParagraphs(documentData.anexos || 'Contenido pendiente de completar.'),\n\n          // 7. Términos y Referencias\n          new Paragraph({\n            children: [\n              new TextRun({\n                text: '7. TÉRMINOS Y REFERENCIAS',\n                bold: true,\n                size: 24,\n                font: 'Times New Roman',\n                color: '2C3E50'\n              })\n            ],\n            heading: HeadingLevel.HEADING_1,\n            spacing: { before: 400, after: 200 }\n          }),\n          ...parseHtmlToParagraphs(documentData.terminos || 'Contenido pendiente de completar.'),\n        ]\n      }]\n    });\n\n    const blob = await Packer.toBlob(doc);\n    const fileName = `${documentData.headerConfig?.policyName || 'Procedimiento'}.docx`;\n\n    if (window.navigator && window.navigator.msSaveOrOpenBlob) {\n      window.navigator.msSaveOrOpenBlob(blob, fileName);\n    } else {\n      const url = URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = fileName;\n      link.style.display = 'none';\n      document.body.appendChild(link);\n      link.click();\n      setTimeout(() => {\n        document.body.removeChild(link);\n        URL.revokeObjectURL(url);\n      }, 150);\n    }\n\n    return true;\n  } catch (error) {\n    console.error('Error generando documento Word:', error);\n    throw new Error(`Error al generar el documento: ${error.message}`);\n  }\n}\n\n// Función para crear la tabla del header con diseño mejorado y paginación dinámica\nfunction createHeaderTable(documentData, formattedDate) {\n  return new Table({\n    width: {\n      size: 100,\n      type: WidthType.PERCENTAGE,\n    },\n    columnWidths: [2275, 2275, 2275, 2275],\n    borders: {\n      top: { style: BorderStyle.SINGLE, size: 4, color: \"1F4E79\" },\n      left: { style: BorderStyle.SINGLE, size: 4, color: \"1F4E79\" },\n      bottom: { style: BorderStyle.SINGLE, size: 4, color: \"1F4E79\" },\n      right: { style: BorderStyle.SINGLE, size: 4, color: \"1F4E79\" },\n      insideHorizontal: { style: BorderStyle.SINGLE, size: 4, color: \"1F4E79\" },\n      insideVertical: { style: BorderStyle.SINGLE, size: 4, color: \"1F4E79\" },\n    },\n    rows: [\n      // Primera fila: Logo, Manual, Páginas\n      new TableRow({\n        children: [\n          // Logo\n          new TableCell({\n            shading: { fill: '1F4E79', type: ShadingType.CLEAR },\n            children: [new Paragraph({\n              alignment: AlignmentType.CENTER,\n              children: [new TextRun({\n                text: \"LOGO\",\n                bold: true,\n                size: 20,\n                font: 'Times New Roman',\n                color: 'FFFFFF'\n              })]\n            })]\n          }),\n          // Manual de Políticas y Procedimientos\n          new TableCell({\n            shading: { fill: '1F4E79', type: ShadingType.CLEAR },\n            children: [new Paragraph({\n              alignment: AlignmentType.CENTER,\n              children: [new TextRun({\n                text: documentData.headerConfig?.manualName || 'MANUAL DE POLÍTICAS Y PROCEDIMIENTOS',\n                bold: true,\n                size: 20,\n                font: 'Times New Roman',\n                color: 'FFFFFF'\n              })]\n            })]\n          }),\n          // Páginas (ocupa 2 columnas) - USANDO CAMPOS DINÁMICOS\n          new TableCell({\n            columnSpan: 2,\n            shading: { fill: '1F4E79', type: ShadingType.CLEAR },\n            children: [new Paragraph({\n              alignment: AlignmentType.RIGHT,\n              children: [\n                new TextRun({ \n                  text: \"PÁGINA \",\n                  bold: true, \n                  size: 20, \n                  font: 'Times New Roman',\n                  color: 'FFFFFF'\n                }),\n                // Campo para número de página actual\n                new SimpleField(\"PAGE\", \"\"),\n                new TextRun({ \n                  text: \" DE \",\n                  bold: true, \n                  size: 20, \n                  font: 'Times New Roman',\n                  color: 'FFFFFF'\n                }),\n                // Campo para número total de páginas\n                new SimpleField(\"NUMPAGES\", \"\")\n              ]\n            })]\n          }),\n        ],\n      }),\n      // Segunda fila: Nombre del Procedimiento y Código\n      new TableRow({\n        children: [\n          // POLÍTICA O PROCEDIMIENTO DE (ocupa 2 columnas)\n          new TableCell({\n            columnSpan: 2,\n            children: [new Paragraph({\n              children: [new TextRun({\n                text: documentData.headerConfig?.policyName || 'PROCEDIMIENTO',\n                bold: true,\n                size: 22,\n                font: 'Times New Roman',\n                color: '1F4E79',\n                allCaps: true,\n              })]\n            })]\n          }),\n          // CÓDIGO (ocupa 2 columnas)\n          new TableCell({\n            columnSpan: 2,\n            children: [new Paragraph({\n              alignment: AlignmentType.RIGHT,\n              children: [new TextRun({\n                text: `CÓDIGO: ${documentData.headerConfig?.codigo || 'XX-P-XXX-#'}`,\n                bold: true,\n                size: 20,\n                font: 'Times New Roman',\n                color: '1F4E79'\n              })]\n            })]\n          }),\n        ],\n      }),\n      // Tercera fila: Área, Unidad, Revisión, Fecha\n      new TableRow({\n        children: [\n          // Área\n          new TableCell({\n            children: [new Paragraph({\n              children: [new TextRun({\n                text: `Área: ${documentData.headerConfig?.area || 'ÁREA RESPONSABLE'}`,\n                size: 18,\n                font: 'Times New Roman',\n                bold: true,\n                language: 'es-HN'\n              })]\n            })]\n          }),\n          // Unidad\n          new TableCell({\n            children: [new Paragraph({\n              children: [new TextRun({\n                text: `Unidad: ${documentData.headerConfig?.unidad || 'UNIDAD ESPECÍFICA'}`,\n                size: 18,\n                font: 'Times New Roman',\n                bold: true,\n                language: 'es-HN'\n              })]\n            })]\n          }),\n          // Revisión\n          new TableCell({\n            children: [new Paragraph({\n              alignment: AlignmentType.CENTER,\n              children: [new TextRun({\n                text: `Revisión: ${documentData.headerConfig?.revision || '(1)'}`,\n                size: 18,\n                font: 'Times New Roman',\n                bold: true,\n              })]\n            })]\n          }),\n          // Fecha\n          new TableCell({\n            children: [new Paragraph({\n              alignment: AlignmentType.RIGHT,\n              children: [new TextRun({\n                text: `Fecha: ${formattedDate}`,\n                bold: true,\n                size: 18,\n                font: 'Times New Roman'\n              })]\n            })]\n          }),\n        ],\n      }),\n    ],\n  });\n}\n\n/* ---------------- Helpers ---------------- */\n\nfunction formatDate(dateInput) {\n  if (!dateInput) {\n    const today = new Date();\n    const year = today.getFullYear();\n    const month = String(today.getMonth() + 1).padStart(2, '0');\n    const day = String(today.getDate()).padStart(2, '0');\n    return `${day}-${month}-${year}`;\n  }\n  \n  const d = new Date(dateInput);\n  const day = String(d.getDate()).padStart(2, '0');\n  const month = String(d.getMonth() + 1).padStart(2, '0');\n  const year = d.getFullYear();\n  return `${day}-${month}-${year}`;\n}\n\nfunction safeText(value) {\n  if (value == null) return '';\n  return String(value).replace(/\\s+/g, ' ').trim();\n}\n\n/**\n * Parsea HTML simple a Paragraphs de docx\n * Ahora soporta títulos, citas, código y todos los estilos\n */\nfunction parseHtmlToParagraphs(html = '') {\n  const paragraphs = [];\n  if (!html) return paragraphs;\n\n  try {\n    // Si no hay HTML tags, procesar como texto plano\n    if (!html.includes('<') && !html.includes('>')) {\n      const lines = String(html).split(/\\n+/).map(s => safeText(s)).filter(Boolean);\n      lines.forEach(line => {\n        // Detectar si es un título por el formato (solo si no hay tags HTML)\n        if (line.startsWith('# ')) {\n          paragraphs.push(new Paragraph({\n            children: [new TextRun({ \n              text: line.substring(2), \n              size: 28, \n              font: 'Times New Roman',\n              bold: true,\n              color: '1F4E79'\n            })],\n            heading: HeadingLevel.HEADING_1,\n            spacing: { before: 400, after: 200 },\n            border: {\n              bottom: {\n                color: \"1F4E79\",\n                space: 1,\n                style: BorderStyle.SINGLE,\n                size: 8\n              }\n            }\n          }));\n        } else if (line.startsWith('## ')) {\n          paragraphs.push(new Paragraph({\n            children: [new TextRun({ \n              text: line.substring(3), \n              size: 24, \n              font: 'Times New Roman',\n              bold: true,\n              color: '2C3E50'\n            })],\n            heading: HeadingLevel.HEADING_2,\n            spacing: { before: 300, after: 150 },\n            border: {\n              bottom: {\n                color: \"D4D4D4\",\n                space: 1,\n                style: BorderStyle.SINGLE,\n                size: 2\n              }\n            }\n          }));\n        } else if (line.startsWith('### ')) {\n          paragraphs.push(new Paragraph({\n            children: [new TextRun({ \n              text: line.substring(4), \n              size: 20, \n              font: 'Times New Roman',\n              bold: true,\n              color: '34495E'\n            })],\n            heading: HeadingLevel.HEADING_3,\n            spacing: { before: 200, after: 100 }\n          }));\n        } else if (line.startsWith('> ')) {\n          // Detectar citas\n          paragraphs.push(new Paragraph({\n            children: [new TextRun({ \n              text: line.substring(2), \n              size: 20, \n              font: 'Times New Roman',\n              italics: true,\n              color: '6C757D'\n            })],\n            style: 'Quote',\n            spacing: { before: 200, after: 200 },\n            indent: { left: 720 },\n            border: {\n              left: {\n                color: \"6C757D\",\n                space: 1,\n                style: BorderStyle.SINGLE,\n                size: 8\n              }\n            }\n          }));\n        } else {\n          paragraphs.push(new Paragraph({\n            children: [new TextRun({ text: line, size: 22, font: 'Times New Roman' })],\n            spacing: { after: 120 }\n          }));\n        }\n      });\n      return paragraphs;\n    }\n\n    const parser = new DOMParser();\n    const doc = parser.parseFromString(`<div>${html}</div>`, 'text/html');\n    const root = doc.body.firstElementChild || doc.body;\n\n    const processNode = (node, depth = 0) => {\n      if (node.nodeType === Node.TEXT_NODE) {\n        const text = safeText(node.textContent);\n        if (text && text.trim() !== '') {\n          paragraphs.push(new Paragraph({\n            children: [new TextRun({ text, size: 22, font: 'Times New Roman' })],\n            spacing: { after: 120 }\n          }));\n        }\n        return;\n      }\n\n      if (node.nodeType !== Node.ELEMENT_NODE) return;\n\n      const tag = node.tagName.toLowerCase();\n      const classList = node.classList;\n\n      // Detectar alineación desde clases\n      let textAlign = null;\n      if (classList.contains('text-align-left')) textAlign = AlignmentType.LEFT;\n      else if (classList.contains('text-align-center')) textAlign = AlignmentType.CENTER;\n      else if (classList.contains('text-align-right')) textAlign = AlignmentType.RIGHT;\n      else if (classList.contains('text-align-justify')) textAlign = AlignmentType.JUSTIFIED;\n\n      // Manejar títulos\n      if (tag === 'h1' || tag === 'h2' || tag === 'h3') {\n        const text = safeText(node.textContent);\n        if (!text) return;\n        \n        const level = parseInt(tag.substring(1));\n        const children = processInlineContent(node);\n        \n        if (level === 1) {\n          const paragraph = new Paragraph({\n            children: children.length > 0 ? children : [new TextRun({ \n              text: text, \n              size: 28, \n              font: 'Times New Roman',\n              bold: true,\n              color: '1F4E79'\n            })],\n            heading: HeadingLevel.HEADING_1,\n            spacing: { before: 400, after: 200 },\n            border: {\n              bottom: {\n                color: \"1F4E79\",\n                space: 1,\n                style: BorderStyle.SINGLE,\n                size: 8\n              }\n            }\n          });\n          if (textAlign) paragraph.alignment = textAlign;\n          paragraphs.push(paragraph);\n        } else if (level === 2) {\n          const paragraph = new Paragraph({\n            children: children.length > 0 ? children : [new TextRun({ \n              text: text, \n              size: 24, \n              font: 'Times New Roman',\n              bold: true,\n              color: '2C3E50'\n            })],\n            heading: HeadingLevel.HEADING_2,\n            spacing: { before: 300, after: 150 },\n            border: {\n              bottom: {\n                color: \"D4D4D4\",\n                space: 1,\n                style: BorderStyle.SINGLE,\n                size: 2\n              }\n            }\n          });\n          if (textAlign) paragraph.alignment = textAlign;\n          paragraphs.push(paragraph);\n        } else if (level === 3) {\n          const paragraph = new Paragraph({\n            children: children.length > 0 ? children : [new TextRun({ \n              text: text, \n              size: 20, \n              font: 'Times New Roman',\n              bold: true,\n              color: '34495E'\n            })],\n            heading: HeadingLevel.HEADING_3,\n            spacing: { before: 200, after: 100 }\n          });\n          if (textAlign) paragraph.alignment = textAlign;\n          paragraphs.push(paragraph);\n        }\n      }\n      // Manejar citas (blockquote)\n      else if (tag === 'blockquote') {\n        const text = safeText(node.textContent);\n        if (text) {\n          const children = processInlineContent(node);\n          const paragraph = new Paragraph({\n            children: children.length > 0 ? children : [new TextRun({ \n              text: text, \n              size: 20, \n              font: 'Times New Roman',\n              italics: true,\n              color: '6C757D'\n            })],\n            style: 'Quote',\n            spacing: { before: 200, after: 200 },\n            indent: { left: 720 },\n            border: {\n              left: {\n                color: \"6C757D\",\n                space: 1,\n                style: BorderStyle.SINGLE,\n                size: 8\n              }\n            }\n          });\n          if (textAlign) paragraph.alignment = textAlign;\n          paragraphs.push(paragraph);\n        }\n      }\n      // Manejar bloques de código\n      else if (tag === 'pre' || (tag === 'div' && classList.contains('code-block'))) {\n        const text = safeText(node.textContent);\n        if (text) {\n          const paragraph = new Paragraph({\n            children: [new TextRun({ \n              text: text, \n              size: 18, \n              font: 'Consolas',\n              color: '2C3E50'\n            })],\n            style: 'Code',\n            spacing: { before: 100, after: 100 },\n            shading: {\n              fill: 'F8F9FA',\n              type: ShadingType.CLEAR\n            },\n            border: {\n              top: { color: \"DEE2E6\", size: 1, style: BorderStyle.SINGLE },\n              bottom: { color: \"DEE2E6\", size: 1, style: BorderStyle.SINGLE },\n              left: { color: \"DEE2E6\", size: 1, style: BorderStyle.SINGLE },\n              right: { color: \"DEE2E6\", size: 1, style: BorderStyle.SINGLE }\n            }\n          });\n          if (textAlign) paragraph.alignment = textAlign;\n          paragraphs.push(paragraph);\n        }\n      }\n      // Manejar párrafos\n      else if (tag === 'p') {\n        const text = safeText(node.textContent);\n        if (text) {\n          const children = processInlineContent(node);\n          const paragraph = new Paragraph({\n            children: children.length > 0 ? children : [new TextRun({ text, size: 22, font: 'Times New Roman' })],\n            spacing: { after: 120 }\n          });\n          if (textAlign) paragraph.alignment = textAlign;\n          paragraphs.push(paragraph);\n        }\n      }\n      // Manejar listas\n      else if (tag === 'ul' || tag === 'ol') {\n        const isOrdered = tag === 'ol';\n        const outer = node.outerHTML || '';\n        const isLetter = /data-type\\s*=\\s*[\"']letter[\"']/i.test(outer);\n        const numberingRef = isLetter ? 'letter-numbering' : (isOrdered ? 'decimal-numbering' : 'bullet-numbering');\n\n        node.querySelectorAll('li').forEach(li => {\n          const liText = safeText(li.textContent);\n          if (!liText) return;\n          \n          const children = processInlineContent(li);\n          const paragraph = new Paragraph({\n            children: children.length > 0 ? children : [new TextRun({ text: liText, size: 22, font: 'Times New Roman' })],\n            numbering: { reference: numberingRef, level: 0 },\n            spacing: { after: 80 },\n          });\n          if (textAlign) paragraph.alignment = textAlign;\n          paragraphs.push(paragraph);\n        });\n      }\n      // Manejar saltos de línea\n      else if (tag === 'br') {\n        paragraphs.push(new Paragraph({ text: '' }));\n      }\n      // Manejar divs y otros contenedores (procesar recursivamente)\n      else if (tag === 'div' || tag === 'span' || tag === 'section' || tag === 'article') {\n        Array.from(node.childNodes).forEach(child => processNode(child, depth + 1));\n      }\n      // Para otros elementos, extraer el texto\n      else {\n        const text = safeText(node.textContent);\n        if (text) {\n          const paragraph = new Paragraph({\n            children: [new TextRun({ text, size: 22, font: 'Times New Roman' })],\n            spacing: { after: 120 }\n          });\n          if (textAlign) paragraph.alignment = textAlign;\n          paragraphs.push(paragraph);\n        }\n      }\n    };\n\n    // Función para procesar contenido inline con estilos\n    const processInlineContent = (element) => {\n      const textRuns = [];\n      \n      const processElement = (elem) => {\n        if (elem.nodeType === Node.TEXT_NODE) {\n          const text = safeText(elem.textContent);\n          if (text) {\n            textRuns.push(new TextRun({ \n              text, \n              size: 22, \n              font: 'Times New Roman'\n            }));\n          }\n        } else if (elem.nodeType === Node.ELEMENT_NODE) {\n          const elemTag = elem.tagName.toLowerCase();\n          const innerText = safeText(elem.textContent);\n          \n          if (elemTag === 'strong' || elemTag === 'b') {\n            textRuns.push(new TextRun({ \n              text: innerText, \n              size: 22, \n              font: 'Times New Roman',\n              bold: true\n            }));\n          } else if (elemTag === 'em' || elemTag === 'i') {\n            textRuns.push(new TextRun({ \n              text: innerText, \n              size: 22, \n              font: 'Times New Roman',\n              italics: true\n            }));\n          } else if (elemTag === 'u') {\n            textRuns.push(new TextRun({ \n              text: innerText, \n              size: 22, \n              font: 'Times New Roman',\n              underline: {}\n            }));\n          } else if (elemTag === 's' || elemTag === 'strike') {\n            textRuns.push(new TextRun({ \n              text: innerText, \n              size: 22, \n              font: 'Times New Roman',\n              strike: true\n            }));\n          } else if (elemTag === 'code') {\n            textRuns.push(new TextRun({ \n              text: innerText, \n              size: 20, \n              font: 'Consolas',\n              color: 'E74C3C'\n            }));\n          } else if (elemTag === 'br') {\n            // Los saltos de línea se manejan automáticamente\n          } else {\n            // Para otros elementos, procesar recursivamente\n            Array.from(elem.childNodes).forEach(processElement);\n          }\n        }\n      };\n      \n      Array.from(element.childNodes).forEach(processElement);\n      return textRuns;\n    };\n\n    Array.from(root.childNodes).forEach(node => processNode(node));\n\n  } catch (e) {\n    console.error('Error parsing HTML:', e);\n    // Fallback: limpiar HTML y procesar como texto plano\n    const cleaned = String(html)\n      .replace(/<br\\s*\\/?>/gi, '\\n')\n      .replace(/<[^>]+>/g, '')\n      .replace(/&nbsp;/g, ' ')\n      .replace(/&lt;/g, '<')\n      .replace(/&gt;/g, '>')\n      .replace(/&amp;/g, '&')\n      .trim();\n    \n    if (cleaned) {\n      cleaned.split(/\\n+/).map(s => safeText(s)).filter(Boolean).forEach(t => {\n        paragraphs.push(new Paragraph({\n          children: [new TextRun({ text: t, size: 22, font: 'Times New Roman' })],\n          spacing: { after: 120 }\n        }));\n      });\n    }\n  }\n\n  if (paragraphs.length === 0) paragraphs.push(new Paragraph({ text: '' }));\n  return paragraphs;\n}\n\n/**\n * Crea una tabla para el procedimiento con diseño mejorado\n */\nfunction createProcedureTable(data = []) {\n  if (!data || data.length === 0) {\n    return new Paragraph({ \n      children: [new TextRun({ text: 'No se ha definido el procedimiento.', size: 22, font: 'Times New Roman' })],\n      spacing: { after: 120 } \n    });\n  }\n\n  const headerRow = new TableRow({\n    children: [\n      new TableCell({\n        width: { size: 1500, type: WidthType.DXA },\n        shading: { fill: '1F4E79', type: ShadingType.CLEAR },\n        margins: { top: 100, bottom: 100, left: 100, right: 100 },\n        children: [new Paragraph({\n          children: [new TextRun({ \n            text: '(#)', \n            bold: true, \n            color: 'FFFFFF',\n            size: 20,\n            font: 'Times New Roman'\n          })],\n          alignment: AlignmentType.CENTER,\n          spacing: { before: 100, after: 100 }\n        })],\n      }),\n      new TableCell({\n        width: { size: 2500, type: WidthType.DXA },\n        shading: { fill: '1F4E79', type: ShadingType.CLEAR },\n        margins: { top: 100, bottom: 100, left: 100, right: 100 },\n        children: [new Paragraph({\n          children: [new TextRun({ \n            text: '(QUIÉN)', \n            bold: true, \n            color: 'FFFFFF',\n            size: 20,\n            font: 'Times New Roman'\n          })],\n          alignment: AlignmentType.CENTER,\n          spacing: { before: 100, after: 100 }\n        })],\n      }),\n      new TableCell({\n        width: { size: 6500, type: WidthType.DXA },\n        shading: { fill: '1F4E79', type: ShadingType.CLEAR },\n        margins: { top: 100, bottom: 100, left: 100, right: 100 },\n        children: [new Paragraph({\n          children: [new TextRun({ \n            text: '(ACTIVIDAD)', \n            bold: true, \n            color: 'FFFFFF',\n            size: 20,\n            font: 'Times New Roman'\n          })],\n          alignment: AlignmentType.CENTER,\n          spacing: { before: 100, after: 100 }\n        })],\n      }),\n    ],\n  });\n\n  const rows = [headerRow];\n\n  data.forEach((row, index) => {\n    let number = safeText(row.number || '');\n    if (number) {\n      if (!number.includes('.') && !isNaN(number)) number = `5.${number}`;\n      else if (!number.startsWith('5.')) {\n        const segs = number.split('.');\n        if (segs.every(s => /^\\d+$/.test(s.trim()))) number = `5.${number}`;\n      }\n    }\n\n    const who = safeText(row.who || '');\n    const activity = safeText(row.activity || '');\n    const level = safeText(row.level || '');\n    const bg = getBackgroundColor(level);\n\n    // Procesar texto de actividad para mantener estilos básicos\n    const activityChildren = [new TextRun({ \n      text: activity, \n      size: 20,\n      font: 'Times New Roman'\n    })];\n\n    rows.push(new TableRow({\n      children: [\n        new TableCell({\n          margins: { top: 100, bottom: 100, left: 100, right: 100 },\n          children: [new Paragraph({\n            children: [new TextRun({ \n              text: number, \n              size: 20,\n              font: 'Times New Roman',\n              bold: true\n            })],\n            alignment: AlignmentType.CENTER,\n            spacing: { before: 100, after: 100 }\n          })],\n          shading: bg ? { fill: bg, type: ShadingType.CLEAR } : undefined,\n        }),\n        new TableCell({\n          margins: { top: 100, bottom: 100, left: 100, right: 100 },\n          children: [new Paragraph({\n            children: [new TextRun({ \n              text: who, \n              size: 20,\n              font: 'Times New Roman',\n              bold: true\n            })],\n            alignment: AlignmentType.CENTER,\n            spacing: { before: 100, after: 100 }\n          })],\n          shading: bg ? { fill: bg, type: ShadingType.CLEAR } : undefined,\n        }),\n        new TableCell({\n          margins: { top: 100, bottom: 100, left: 100, right: 100 },\n          children: [new Paragraph({\n            children: activityChildren,\n            spacing: { before: 100, after: 100 }\n          })],\n          shading: bg ? { fill: bg, type: ShadingType.CLEar } : undefined,\n        }),\n      ],\n    }));\n  });\n\n  return new Table({\n    rows,\n    width: { size: 100, type: WidthType.PERCENTAGE },\n    borders: {\n      top: { style: BorderStyle.SINGLE, size: 2, color: '1F4E79' },\n      bottom: { style: BorderStyle.SINGLE, size: 2, color: '1F4E79' },\n      left: { style: BorderStyle.SINGLE, size: 2, color: '1F4E79' },\n      right: { style: BorderStyle.SINGLE, size: 2, color: '1F4E79' },\n      insideHorizontal: { style: BorderStyle.SINGLE, size: 1, color: 'CCCCCC' },\n      insideVertical: { style: BorderStyle.SINGLE, size: 1, color: 'CCCCCC' },\n    },\n  });\n}\n\nfunction getBackgroundColor(level) {\n  const colors = {\n    sub: 'E8F5E8',\n    section: 'E3F2FD',\n    question: 'FFF3CD',\n    alternative: 'D1ECF1',\n    end: 'D4EDDA',\n  };\n  return colors[level] || '';\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}